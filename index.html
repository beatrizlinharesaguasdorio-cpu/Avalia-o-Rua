<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AvaliaÃ§Ã£o da Atividade</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  margin: 0;
}

.container {
  min-height: 100vh;
  padding: 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;
}

h1 {
  font-size: 26px;
  margin-bottom: 20px;
}

.question {
  font-size: 24px;
  margin-bottom: 18px;
}

.explain {
  font-size: 16px;
  color: #555;
  margin-bottom: 25px;
}

.buttons {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* BOTÃ•ES PADRÃƒO */
button {
  font-size: 22px;
  padding: 22px;
  border-radius: 18px;
  border: none;
  cursor: pointer;
}

button:active {
  transform: scale(0.97);
}

/* BOTÃ•ES ESTILO SHOPPING */
.emoji-btn {
  font-size: 34px;
  padding: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

/* CORES */
.otimo { background: #4caf50; }
.bom { background: #81c784; }
.regular { background: #ffb74d; }
.ruim { background: #e57373; }

.sim { background: #4caf50; }
.parcial { background: #ffb74d; }
.nao { background: #e57373; }

input[type="text"] {
  width: 100%;
  padding: 18px;
  font-size: 20px;
  margin-bottom: 30px;
  border-radius: 14px;
  border: 1px solid #ccc;
}

.hidden {
  display: none;
}

.thanks {
  font-size: 26px;
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">

<!-- ETAPA 0 â€“ NOME -->
<div id="step0">
  <h1>Pesquisa de AvaliaÃ§Ã£o</h1>
  <input type="text" id="nome" placeholder="Digite seu nome" required>
  <button onclick="nextStep()">Continuar</button>
</div>

<!-- ETAPA 1 â€“ COR / RAÃ‡A -->
<div id="step1" class="hidden">
  <div class="question">Como vocÃª se autodeclara em relaÃ§Ã£o Ã  sua cor ou raÃ§a?</div>
  <div class="buttons">
    <button onclick="save('cor','Branca')">Branca</button>
    <button onclick="save('cor','Preta')">Preta</button>
    <button onclick="save('cor','Parda')">Parda</button>
    <button onclick="save('cor','Amarela')">Amarela</button>
    <button onclick="save('cor','IndÃ­gena')">IndÃ­gena</button>
    <button onclick="save('cor','Prefiro nÃ£o responder')">Prefiro nÃ£o responder</button>
  </div>
</div>

<!-- ETAPA 2 â€“ GÃŠNERO -->
<div id="step2" class="hidden">
  <div class="question">Com qual gÃªnero vocÃª se identifica?</div>
  <div class="explain">GÃªnero diz respeito Ã  forma como cada pessoa se reconhece.</div>
  <div class="buttons">
    <button onclick="save('genero','Mulher CisgÃªnero')">Mulher CisgÃªnero</button>
    <button onclick="save('genero','Homem CisgÃªnero')">Homem CisgÃªnero</button>
    <button onclick="save('genero','Mulher TransgÃªnero')">Mulher TransgÃªnero</button>
    <button onclick="save('genero','Homem TransgÃªnero')">Homem TransgÃªnero</button>
    <button onclick="save('genero','Pessoa NÃ£o BinÃ¡ria')">Pessoa NÃ£o BinÃ¡ria</button>
    <button onclick="save('genero','Prefiro nÃ£o responder')">Prefiro nÃ£o responder</button>
  </div>
</div>

<!-- ETAPA 3 â€“ FAIXA ETÃRIA -->
<div id="step3" class="hidden">
  <div class="question">Qual Ã© a sua faixa etÃ¡ria?</div>
  <div class="buttons">
    <button onclick="save('idade','Menos de 18 anos')">Menos de 18 anos</button>
    <button onclick="save('idade','18 a 30 anos')">18 a 30 anos</button>
    <button onclick="save('idade','31 a 50 anos')">31 a 50 anos</button>
    <button onclick="save('idade','Mais de 50 anos')">Mais de 50 anos</button>
  </div>
</div>

<!-- ETAPA 4 â€“ PcD -->
<div id="step4" class="hidden">
  <div class="question">VocÃª Ã© uma Pessoa com DeficiÃªncia (PcD)?</div>
  <div class="buttons">
    <button onclick="save('pcd','FÃ­sica')">FÃ­sica</button>
    <button onclick="save('pcd','Visual')">Visual</button>
    <button onclick="save('pcd','Auditiva')">Auditiva</button>
    <button onclick="save('pcd','Intelectual')">Intelectual</button>
    <button onclick="save('pcd','Psicossocial')">Psicossocial</button>
    <button onclick="save('pcd','TEA')">Transtorno do Espectro Autista (TEA)</button>
    <button onclick="save('pcd','NÃ£o possuo deficiÃªncia')">NÃ£o possuo deficiÃªncia</button>
  </div>
</div>

<!-- ETAPA 5 â€“ AVALIAÃ‡ÃƒO (SHOPPING) -->
<div id="step5" class="hidden">
  <div class="question">Como vocÃª avalia a qualidade geral da atividade?</div>
  <div class="buttons">
    <button class="emoji-btn otimo" onclick="save('avaliacao','Excelente')">ğŸ˜„ Excelente</button>
    <button class="emoji-btn bom" onclick="save('avaliacao','Boa')">ğŸ™‚ Boa</button>
    <button class="emoji-btn regular" onclick="save('avaliacao','Regular')">ğŸ˜ Regular</button>
    <button class="emoji-btn ruim" onclick="save('avaliacao','Ruim')">ğŸ˜¡ Ruim</button>
  </div>
</div>

<!-- ETAPA 6 â€“ CLAREZA (SHOPPING) -->
<div id="step6" class="hidden">
  <div class="question">As informaÃ§Ãµes foram claras e fÃ¡ceis de entender?</div>
  <div class="buttons">
    <button class="emoji-btn otimo" onclick="save('clareza','Muito claras')">ğŸ˜„ Muito claras</button>
    <button class="emoji-btn regular" onclick="save('clareza','Parcialmente claras')">ğŸ˜ Parcialmente claras</button>
    <button class="emoji-btn ruim" onclick="save('clareza','Pouco claras')">ğŸ˜• Pouco claras</button>
    <button class="emoji-btn ruim" onclick="save('clareza','NÃ£o foram claras')">ğŸ˜¡ NÃ£o foram claras</button>
  </div>
</div>

<!-- ETAPA 7 â€“ APRENDIZADO -->
<div id="step7" class="hidden">
  <div class="question">ApÃ³s a atividade, vocÃª aprendeu algo novo?</div>
  <div class="buttons">
    <button class="emoji-btn otimo" onclick="finalizar('Aprendi bastante')">ğŸ˜„ Aprendi bastante</button>
    <button class="emoji-btn regular" onclick="finalizar('Aprendi um pouco')">ğŸ™‚ Aprendi um pouco</button>
    <button class="emoji-btn ruim" onclick="finalizar('NÃ£o aprendi')">ğŸ˜• NÃ£o aprendi</button>
  </div>
</div>

<div id="thanks" class="hidden">
  <div class="thanks">Obrigada pela participaÃ§Ã£o ğŸ’™</div>
</div>

</div>

<script>
const formURL = "https://docs.google.com/forms/d/e/1FAIpQLSe4eKhrIlLXqNiD2Co9Yg6iwURYgQlVZEDoLkuJbZYouN_hZw/formResponse?";

const entries = {
  nome: "entry.1507819355",
  cor: "entry.757698879",
  genero: "entry.955667241",
  idade: "entry.682673327",
  pcd: "entry.1203672452",
  avaliacao: "entry.1533356640",
  clareza: "entry.122240422",
  aprendizado: "entry.115105160"
};

let data = {};
let step = 0;

function nextStep() {
  const nome = document.getElementById("nome").value.trim();
  if (!nome) {
    alert("Por favor, digite seu nome.");
    return;
  }
  data.nome = nome;
  showStep(1);
}

function save(key, value) {
  data[key] = value;
  showStep(++step + 1);
}

function showStep(n) {
  document.querySelectorAll("[id^='step']").forEach(el => el.classList.add("hidden"));
  document.getElementById("step" + n).classList.remove("hidden");
  step = n;
}

function finalizar(valor) {
  data.aprendizado = valor;

  const form = document.createElement("form");
  form.action = formURL;
  form.method = "POST";
  form.target = "hidden_iframe";

  for (let key in data) {
    const input = document.createElement("input");
    input.type = "hidden";
    input.name = entries[key];
    input.value = data[key];
    form.appendChild(input);
  }

  document.body.appendChild(form);
  form.submit();
  document.body.removeChild(form);

  document.querySelectorAll("[id^='step']").forEach(el => el.classList.add("hidden"));
  document.getElementById("thanks").classList.remove("hidden");

  setTimeout(() => location.reload(), 2500);
}
</script>

<iframe name="hidden_iframe" style="display:none;"></iframe>

</body>
</html>
